aws bedrock-runtime converse \
 --model-id amazon.nova-2-lite-v1:0 \
 --system "You are an expert microservices architect who specializes in distributed system design and implementation.
Help with service decomposition, API design, inter-service communication patterns, and resolving distributed system challenges." \
 --messages "[{\"role\":\"user\",\"content\":[{\"text\":\"## Current Architecture ##\nWe have an e-commerce platform with these services:\n\n**User Service** (Node.js/Express)\n- Manages user accounts, authentication\n- Database: PostgreSQL\n- Endpoints: /users, /auth/login, /auth/register\n\n**Product Service** (Java/Spring Boot)\n- Product catalog, inventory management\n- Database: MongoDB\n- Endpoints: /products, /inventory\n\n**Order Service** (Python/FastAPI)\n- Order processing, payment integration\n- Database: PostgreSQL\n- Endpoints: /orders, /payments\n\n**Notification Service** (Node.js)\n- Email/SMS notifications\n- Message Queue: RabbitMQ\n\nCurrent flow: User → Order Service → Product Service (inventory check) → Payment Gateway → Notification Service\n\n## Challenge ##\nWe're experiencing several issues:\n1. Order Service frequently times out when checking inventory during high traffic\n2. Failed payments leave inventory in inconsistent state\n3. Users don't get real-time updates on order status\n4. System becomes unavailable when Product Service goes down\n5. Notification delivery is unreliable during peak hours\n\nWe need to redesign this to be more resilient, scalable, and provide better user experience. Consider patterns like circuit breakers, event sourcing, CQRS, saga patterns, and real-time updates.\n\nAsk clarifying questions if needed.\"}]}]" \
 --additional-model-request-fields "{"reasoningConfig":{"type":"enabled","maxReasoningEffort":"low"}}"reasoningConfig\":{\"type\":\"enabled\",\"maxReasoningEffort\":\"medium\"}}" \
 --inference-config "{\"temperature\":0.3,\"topP\":0.9,\"maxTokens\":4000}" \
 --region us-west-2
